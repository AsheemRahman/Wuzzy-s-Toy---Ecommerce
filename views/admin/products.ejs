<style>
    .admin-product{
        width: 80%;
        display: flex;
        flex-direction: column;
        align-items: center;
        
    }
    .product-head{
        border-radius: 10px;
        margin: 24px;
        background: #232323;
        width: 90%;
    }
    .product-header{
        margin-left: 30px;
    }
    .form-input{
        height: 80%;
    }
    .form-product{
        display: flex;
        align-items: center;
    }

    .submit-btn {
        color: #fefeeb;
        background: #DB4444;
        height: 50%;
        margin: 20px;
    }

    .submit-btn:hover {
        background: #CE5252;
    }
    .bi.bi-trash3 {
        color: #FF0000;
    }
    .collection-action{
        display: flex;
        gap: 10px;
    }
    .table-container {
    width: 90%;
    background: #232323;
    padding: 10px;
    box-shadow: 0 0 10px rgba(100, 98, 98, 0.5);
    border-radius: 10px;
}

.table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 15px;
    margin: 20px 0;
    font-size: 1em;
    width: 100%;
}

.table thead th {
    padding: 12px 15px;
    background: #1a1a1a;
    color: #fefeeb;
    border-style: none;
}

.table tbody tr {
    border-bottom: 1px solid #fefeeb;
    background: #232323;
    border-radius: 10px;
    }

.table tbody tr td {
    padding: 12px 15px;
    text-align: left;
    background: #232323;
    color: #fefeeb;
}

.status.active {
    color: #4CAF50;
}

.status.block {
    color: #F44336;
}
.bi.bi-trash3 {
    color: #FF0000;
}

.submit-btn {
    color: #fefeeb;
    background: #DB4444;
    margin: 20px;
}

.submit-btn:hover {
    background: #CE5252;
}
.products-icon{
    display: flex;
    gap: 20px;
}

@media (max-width: 600px) {
    .table thead {
        display: none;
    }

    .table, .table tbody, .table tr, .table td {
        display: block;
        width: 100%;
    }

    .table tr {
        margin-bottom: 15px;
    }

    .table td {
        text-align: right;
        padding-left: 50%;
        position: relative;
    }

    .table td::before {
        content: attr(data-label);
        position: absolute;
        left: 0;
        width: 50%;
        padding-left: 15px;
        font-weight: bold;
        text-align: left;
    }
}
</style>



<%- include('navbar') %>

    <!----------------------------------- Admin Menu -------------------------------------------------------->

    <div class="admin-home">
        <div class="sidebar">
            <div class="menu-item">
                <a href="/admin/home">
                    <div class="admin-menu"><i class="bi bi-grid"></i>Dashboard</div>
                </a>
            </div>
            <div class="menu-item">
                <a href="/admin/collection">
                    <div class="admin-menu"><i class="bi bi-collection-fill"></i>Collection</div>
                </a>
            </div>
            <div class="menu-item">
                <a href="/admin/products">
                    <div class="admin-menu"><i class="bi bi-grid"></i>Products</div>
                </a>
            </div>
            <div class="menu-item">
                <a href="/admin/users">
                    <div class="admin-menu"><i class="bi bi-people"></i>Customers</div>
                </a>
            </div>
            <div class="menu-item">
                <a href="/admin/orders">
                    <div class="admin-menu"><i class="bi bi-cart"></i>Orders</div>
                </a>
            </div>
            <div class="menu-item">
                <a href="/admin/coupon">
                    <div class="admin-menu"><i class="bi bi-receipt"></i>Coupons</div>
                </a>
            </div>
            <div class="menu-item">
                <a href="/admin/coupons">
                    <div class="admin-menu"><i class="bi bi-image"></i>Banner</div>
                </a>
            </div>
            <div class="menu-item admin-menu-loyout">
                <a href="/admin/logout">
                    <div class="admin-menu "><i class="bi bi-box-arrow-right"></i>Logout</div>
                </a>
            </div>
        </div>
        <!-------------------------------------- Products page  -------------------------------------------------------->


        <div class="admin-product mb-5">
            <div class="product-head d-flex justify-content-between">
                <div class="product-header d-flex justify-content-between align-items-center gap-5">
                    <h2 class="text-white">
                        <%= title %>
                    </h2>
                    <form action="/admin/products" method="get" class="form-product  d-flex gap-1">
                        <input type="text" name="search" placeholder="search" class="form-input form-control">
                        <input type="submit" class="btn submit-btn" value="Search">
                    </form>
                </div>
                <a href="/admin/addproduct" type="button" class="btn submit-btn"> Add Product</a>
            </div>
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr scope="row" class="product-table-head">
                            <th scope="col">SL.No</th>
                            <th scope="col">Name</th>
                            <th scope="col">Price</th>
                            <th scope="col">Stock</th>
                            <th scope="col">Collection</th>
                            <th scope="col">Status</th>
                            <th scope="col">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% products.forEach((product,index)=> { %>
                            <tr scope="row">
                                <td><%= index + 1 %></td>
                                <td><%= product.productName %></td>
                                <td><%= product.productPrice %></td>
                                <td><%= product.productQuantity %></td>
                                <td><%= product.productCollection %></td>
                                <td>
                                    <% if(product.isActive) { %>
                                        <span class="status active">Active</span>
                                        <% }else{ %>
                                            <span class="status block">Blocked</span>
                                            <% } %>
                                </td>
                                <td class="products-icon">
                                    <a href="/admin/editproduct/<%= product.id %>"><i class="bi bi-pencil-square product-icons"></i></a>
                                    <a href="/admin/productstatus?id=<%= product.id %>&&status=<%= product.isActive%>"><i class="bi bi-x-circle product-icons"></i></a>
                                    <a href="/admin/products/<%= product.id %>" class="sweet-alert-delete"><i class="bi bi-trash3 product-icons"></i></a>
                                </td>
                            </tr>
                            <% }) %>
                    </tbody>
                </table>
            </div>
        </div>

